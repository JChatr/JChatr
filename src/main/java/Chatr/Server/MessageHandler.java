package Chatr.Server;

import Chatr.Converstation.Message;
import Chatr.Database.Database;

import java.util.ArrayList;
import java.util.List;

/**
 * server side message logic
 */
public class MessageHandler {
	private Database database;
	private List<Transmission> requests;
	private List<Transmission> answer = new ArrayList<>();

	/**
	 * Instantiates the MessageHandler
	 *
	 * @param requests request from the client
	 */
	protected MessageHandler(List<Transmission> requests) {
		this.database = Database.getCachedDatabase();
		this.requests = requests;
	}

	/**
	 * Directs requests to the corresponding methods
	 */
	public void routeRequests() {
		for (Transmission request : requests) {
			switch (request.getRequestType()) {
				case MESSAGE:
					switch (request.getCRUD()) {
						case CREATE:

							break;
						case READ:
							break;
						case UPDATE:
							break;
						case DELETE:
							break;
					}
					break;
				case CONVERSATION:
					break;
				case USER:
					break;
				case STATUS:
					break;
			}
		}
	}
	/**
	 * Returns a list of all responses generated by the input requests
	 *
	 * @return list of responses generated by the requests
	 */
	public List<Transmission> getResponse() {
		return this.answer;
	}
}
